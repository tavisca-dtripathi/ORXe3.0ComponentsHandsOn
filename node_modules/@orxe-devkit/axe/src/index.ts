import { configureAxe, toHaveNoViolations, AxeOptions } from 'jest-axe';
import defaultConfig from './default.config';

// Wrapper configureAxe/axe function that returns the axe function configured with the passed configurations. if blank, will use the default configurations.
function configure(config = defaultConfig) {
    let axe = configureAxe(config as AxeOptions);
    // returning the new Axe function wrapper function
    return async function (element: any) {
        let result = await axe(element);
        return result;
    };
}

let axe = configure();
export { axe, toHaveNoViolations, configure, defaultConfig };